<!DOCTYPE html>
<head>
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>API design principles | gpconnect</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="API design principles" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="GP Connect aims to support better clinical care by opening up information and data held within GP Practice IT systems for use across health and social care. The GP Connect vision will be achieved by standardising integration and simplifying the operating model." />
<meta property="og:description" content="GP Connect aims to support better clinical care by opening up information and data held within GP Practice IT systems for use across health and social care. The GP Connect vision will be achieved by standardising integration and simplifying the operating model." />
<link rel="canonical" href="http://localhost:4005/designprinciples_open_api_principles.html" />
<meta property="og:url" content="http://localhost:4005/designprinciples_open_api_principles.html" />
<meta property="og:site_name" content="gpconnect" />
<script type="application/ld+json">
{"description":"GP Connect aims to support better clinical care by opening up information and data held within GP Practice IT systems for use across health and social care. The GP Connect vision will be achieved by standardising integration and simplifying the operating model.","@type":"WebPage","url":"http://localhost:4005/designprinciples_open_api_principles.html","headline":"API design principles","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="High-level design principles related to the API design">
<meta name="keywords" content="developmentfhir,  development">
<title>API design principles | GP Connect</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>
<script src="js/image-map.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="icon" type="image/png"  href="images/favicon.png">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="gpconnect" href="http://localhost:4005/feed.xml">




    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
	

	<link rel="stylesheet" href="css/default.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
    <script>
        $(document).ready(function(){
		hljs.initHighlightingOnLoad();
		});
    </script>

	
    

	
</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> GP Connect API - FHIR&reg; APIs for GP IT systems</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                

                <!-- GitHub icon -->
                <a href="https://github.com/nhsconnect/gpconnect" target="_blank" class="fa fa-github fa-lg navbar-brand no_icon" aria-hidden="true">&nbsp;</a>

                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="API design principles">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          























<ul id="mysidebar" class="nav">
    <img src="images/logo.png" alt="NHS Digital Logo" height="110" width="110" />
    <li class="sidebarTitle">GP Connect Documents API 1.0.0-beta<br/><span style="font-size: smaller;">FHIR&reg; STU3</span></li>
	<li class="sidebarSection"></li>

    

    
    
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
            
            
            <li><a href="index.html">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="overview_engage.html">Getting started</a></li>
            
            
            
            
            
            
            <li><a href="overview_priority_capabilities.html">Capabilities</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">Release notes</a>
                <ul>
                    
                    
                    
                    <li><a href="overview_release_notes_0_1_0.html">0.1.0</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Design approach</a>
        <ul>
            
            
            
            <li class="active"><a href="designprinciples_open_api_principles.html">API design principles</a></li>
            
            
            
            
            
            
            <li><a href="designprinciples_development_principles.html">Development principles</a></li>
            
            
            
            
            
            
            <li><a href="designprinciples_data_model_principles.html">Data model principles</a></li>
            
            
            
            
            
            
            <li><a href="designprinciples_ig_principles.html">Information governance principles</a></li>
            
            
            
            
            
            
            <li><a href="designprinciples_clinical_safety_principles.html">Clinical safety principles</a></li>
            
            
            
            
            
            
            <li><a href="designprinciples_assurance_principles.html">Assurance principles</a></li>
            
            
            
            
            
            
            <li><a href="design_clinical_terminologies.html">Clinical terminologies</a></li>
            
            
            
            
            
            
            <li><a href="design_product_versioning.html">Specification versioning</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Explore</a>
        <ul>
            
            
            
            <li><a href="system_demonstrator.html">System demonstrator</a></li>
            
            
            
            
            
            
            <li><a href="system_swagger.html">Interactive API documentation</a></li>
            
            
            
            
            
            
            <li><a href="system_reference_postman.html">Postman API examples</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Development</a>
        <ul>
            
            
            
            <li><a href="development_deliverables.html">Development deliverables</a></li>
            
            
            
            
            
            
            <li><a href="development_fhir_open_source_guidance.html">FHIR&reg; library</a></li>
            
            
            
            
            
            
            <li><a href="development_fhir_api_guidance.html">FHIR&reg; implementation</a></li>
            
            
            
            
            
            
            <li><a href="development_general_api_guidance.html">General API guidance</a></li>
            
            
            
            
            
            
            <li><a href="development_branch_surgeries.html">Branch surgeries</a></li>
            
            
            
            
            
            
            <li><a href="development_fhir_resource_guidance.html">FHIR&reg; resources</a></li>
            
            
            
            
            
            
            <li><a href="development_api_security_guidance.html">Security</a></li>
            
            
            
            
            
            
            <li><a href="development_fhir_error_handling_guidance.html">Error handling</a></li>
            
            
            
            
            
            
            <li><a href="development_api_volume_and_performance.html">Volumetric and performance</a></li>
            
            
            
            
            
            
            <li><a href="development_api_non_functional_requirements.html">Non-functional requirements</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Implement a capability</a>
        <ul>
            
            
            
            <li><a href="foundations.html">Foundations</a></li>
            
            
            
            
            
            
            <li><a href="appointments.html"><b class="capability-not-available">Appointment Management</b></a></li>
            
            
            
            
            
            
            <li><a href="accessrecord_structured.html"><b class="capability-not-available">Access Record Structured</b></a></li>
            
            
            
            
            
            
            <li><a href="accessrecord_documents_development.html">Access Record Documents</a></li>
            
            
            
            
            
            
            <li><a href="accessrecord.html"><b class="capability-not-available">Access Record HTML</b></a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Integrate with Spine</a>
        <ul>
            
            
            
            <li><a href="integration_illustrated.html">Spine integration illustrated</a></li>
            
            
            
            
            
            
            <li><a href="integration_system_topologies.html">System topologies</a></li>
            
            
            
            
            
            
            <li><a href="integration_cross_organisation_audit_and_provenance.html">Cross-organisation audit and provenance</a></li>
            
            
            
            
            
            
            <li><a href="integration_personal_demographic_service.html">Personal Demographic Service</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">Spine Directory Services</a>
                <ul>
                    
                    
                    
                    <li><a href="integration_spine_directory_service.html">Overview and querying</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integration_sds_registering_endpoints.html">Registering systems</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
            
            
            <li><a href="integration_interaction_ids.html">Interaction IDs</a></li>
            
            
            
            
            
            
            <li><a href="integration_spine_secure_proxy.html">Spine Secure Proxy</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Test and assure</a>
        <ul>
            
            
            
            <li><a href="testing_deliverables.html">Testing assets</a></li>
            
            
            
            
            
            
            <li><a href="testing_environments.html">Test environments</a></li>
            
            
            
            
            
            
            <li><a href="testing_api_provider_testing.html">Provider testing</a></li>
            
            
            
            
            
            
            <li><a href="testing_api_consumer_testing.html">Consumer testing</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Help and support</a>
        <ul>
            
            
            
            <li><a href="support_faq.html">Frequently asked questions</a></li>
            
            
            
            
            
            
            <li><a href="overview_glossary.html">Glossary</a></li>
            
            
            
            
            
            
            <li><a href="support_communications.html">Communication channels</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">External links</a>
                <ul>
                    
                    
                    
                    <li><a href="https://github.com/nhsconnect/gpconnect" target="_blank">GPC Documentation repository</a></li>
                    
                    
                    
                    
                    
                    <li><a href="https://digital.nhs.uk/services/gp-connect" target="_blank">GPC NHS Digital</a></li>
                    
                    
                    
                    
                    
                    <li><a href="https://github.com/nhsconnect/gpconnect-fhir/" target="_blank">GPC GitHub FHIR data library</a></li>
                    
                    
                    
                    
                    
                    <li><a href="https://github.com/nhsconnect/gpconnect-dotnet-examples/" target="_blank">GPC GitHub C# examples</a></li>
                    
                    
                    
                    
                    
                    <li><a href="https://github.com/nhsconnect/gpconnect-java-examples/" target="_blank">GPC GitHub Java examples</a></li>
                    
                    
                    
                    
                    
                    <li><a href="https://github.com/nhsconnect/gpconnect-provider-testing/" target="_blank">GPC GitHub provider test harness</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">Tags</a>
                <ul>
                    
                    
                    
                    <li><a href="tag_getting_started.html">Getting started</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_first_of_type.html">First of Type</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_fhir.html">FHIR&reg;</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_structured.html">Structured</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_foundations.html">Foundations</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_htmlgetcarerecord.html">HTML Get Care Record</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_getcarerecord.html">Get Care Record</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_appointments.html">Appointments</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_engagement.html">Engagement</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_design.html">Design</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_development.html">Development</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_integration.html">Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_testing.html">Testing</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_assurance.html">Assurance</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_deployment.html">Deployment</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_support.html">Support</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_clinical_safety.html">Clinical safety</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_information_governance.html">Information governance</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_commissioning.html">Commissioning</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_code_snippet.html">Code snippet</a></li>
                    
                    
                    
                    
                    
                    <li><a href="tag_usecase.html">Use case</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
            
            
            <li><a href="support_run_website_locally.html">Run website locally</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
         




 <div markdown="span" class="alert alert-danger" role="alert">
	<i class="fa fa-exclamation-circle"></i>
	<b>Version:</b> This is a <b>pre-release (draft) version</b> of the GP Connect API specification and is subject to change. For the current version and other specifications, please visit <a href="https://developer.nhs.uk/gp-connect-specification-versions/">GP Connect specifications page</a>.
</div>

 

<div class="post-header">
   <h1 class="post-title-main">API design principles</h1>
</div>





<div class="post-content">

   
    <div class="summary">High-level design principles related to the API design</div>
   

   

    

  <h2 id="open-api">Open API</h2>

<p>GP Connect has aligned with <a href="/pages/designprinciples/open-api-policy.pdf">NHS England’s Open API Policy</a> to support the ambition of moving to a position where significant business functionality, available within systems, is exposed through interfaces where the definition is open.</p>

<h2 id="architectural-design-principles">Architectural design principles</h2>

<p>GP Connect has a number of architectural design principles, some of which have developed based on interaction with the suppliers, others are based on an understanding of the technological maturity of the NHS at the present time and the other principles are based on good practice and a vision for the future of the NHS.</p>

<h3 id="gp-connect-api-implemented-at-an-organization-level">GP Connect API implemented at an organization level</h3>

<p>The GP Connect API has been designed and developed to expose data at an organization level with a single FHIR server per organization. The GP Connect definition of an organization is the legal entity of an organization represented by an ODS code.</p>

<p>The decision was made to expose the API at and organization level and tie the organization ODS code to the FHIR server endpoint, as the ODS code is the only commonly used identifier across the different GP system providers. The organization ODS code of a patient’s registered GP practice is stored with their demographics record on the Spine. This makes it available to a consumer of the GP Connect API and allows the consumer to perform the endpoint lookup process required to target their request at the GP practice system that holds the patient record.</p>

<p>As the GP Connect API and FHIR server is exposed at an organization level, this results in the following architectural requirements:</p>
<ul>
  <li><a href="development_branch_surgeries.html">Branch surgeries</a> of the main organization will expose their patient data and appointment books through the main organization FHIR server and not their own GP Connect FHIR server</li>
  <li>Organization FHIR server URLs are registered on the SDS against the organization ODS code. Therefore, the consumer API calls are targeted at a single organization represented by an ODS code. If a consumer wishes to get data from a group of organization such as their federation they must make a separate GP Connect API call to each organization from which they want data.</li>
</ul>

<h3 id="distribution-of-complexity">Distribution of complexity</h3>

<p>GP Connect follows the basic principle of API design that ‘APIs interfaces are designed always with consumers in mind’. The design goal is to present an interface which maximises ease of use for a consumer.</p>

<p>The expected GP Connect ecosystem sees few ‘providers’ and many ‘consumers’ and so it is sensible to place complexity on the provider rather than in the consumer. Therefore, where a design decision is required in which the question of where to place complexity is a key point, the default GP Connect position is that complexity should be hidden behind the API interface in provider’s business logic. GP Connect may diverge from this principle where there is a demonstrated overriding need to have complexity within the consumer rather than in the provider.</p>

<h2 id="core-api-design-principles">Core API design principles</h2>

<h3 id="fhir">FHIR</h3>

<p>GP Connect has adopted the <a href="https://www.hl7.org/fhir/STU3/">FHIR® standard (STU3)</a> and as such the FHIR API design principles will be followed unless a clear rationale exists to amend - in which case any deviation will be logged and the rationale clearly communicated.</p>

<p>Examples of FHIR principles that GP Connect follows are:</p>
<ul>
  <li><a href="https://www.hl7.org/fhir/STU3/http.html" target="_blank">FHIR RESTful API</a> principles will be used by default as this is the preferred approach by NHS Digital.
    <ul>
      <li>synchronous endpoints using <code class="highlighter-rouge">GET</code>, <code class="highlighter-rouge">POST</code> and <code class="highlighter-rouge">PUT</code> HTTP verbs</li>
    </ul>
  </li>
  <li><a href="https://www.hl7.org/fhir/STU3/operations.html" target="_blank">FHIR operation</a> APIs to be used in limited ‘set piece’ circumstances - for example, to pull bundles of resources without using the full generic querying syntax</li>
  <li>business identifiers (such as NHS Number) used to resolve a resource’s <a href="https://www.hl7.org/fhir/STU3/resource.html#id" target="_blank">logical identity</a></li>
  <li>Resources represented as either <a href="https://www.hl7.org/fhir/STU3/formats.html#wire" target="_blank">XML or JSON</a> as requested by the API consumer.  To ensure maximum accessibility, GP Connect is expecting producers to support both formats.  However, since XML is on average 30% larger on the wire there is a preference towards use of JSON.</li>
  <li>HTML content to utilise XHTML in line with the <a href="https://www.hl7.org/fhir/STU3/narrative.html" target="_blank">FHIR narrative</a> guidance</li>
  <li>ETags for <a href="https://www.hl7.org/fhir/STU3/http.html#concurrency" target="_blank">managing version-aware updates</a></li>
</ul>

<h3 id="care-connect">Care Connect</h3>

<p>GP Connect has worked to align as closely as possible with the Care Connect API, with an aim to maintain a wider interoperability.</p>


    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_development.html" class="btn btn-default navbar-btn cursorNorm" role="button">development</a>
        
        
        
        <a href="tag_fhir.html" class="btn btn-default navbar-btn cursorNorm" role="button">fhir</a>
        
        
        
    </div>

    

</div>


<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    <img class="pull-left" src="images/explanatoryline.png" alt="NHS Digital Explanatory Line"/>
                    <br/>
                    &copy;2019 NHS Digital<br />
                     Site last generated: Sep 23, 2019 <br />
                    <br/>
                    <br/>
                    <!-- OGL Licence -->
                    <div class="open-government-licence">
                        <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license" class="no_icon"><img src="images/licence/ogl-symbol-41px-retina-black.png"></img></a>
                        <p>All content is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license" class="no_icon">Open Government Licence v3.0</a>, except where otherwise stated</p>
                    </div>
                    <div style="font-size: larger;"><a href="accessibility.html">Accessibility</a> | <a href="https://help.github.com/articles/github-privacy-statement/">Privacy</a> | <a href="support_communications.html">Contact us</a></div>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>
